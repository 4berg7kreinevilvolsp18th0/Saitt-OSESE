# ‚ö†Ô∏è –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: "Forbidden use of secret API key"

## –ü—Ä–æ–±–ª–µ–º–∞

–í—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É:
```
‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
Forbidden use of secret API key in browser
```

**–ü—Ä–∏—á–∏–Ω–∞:** –í –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `NEXT_PUBLIC_SUPABASE_ANON_KEY` –≤—Å—Ç–∞–≤–ª–µ–Ω **service_role** –∫–ª—é—á –≤–º–µ—Å—Ç–æ **anon** –∫–ª—é—á–∞.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ –∑–∞ 2 –º–∏–Ω—É—Ç—ã

### –®–∞–≥ 1: –ù–∞–π–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á –≤ Supabase

1. –ó–∞–π–¥–∏—Ç–µ –≤ [Supabase Dashboard](https://app.supabase.com)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **API**
4. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **"Project API keys"**

–í—ã —É–≤–∏–¥–∏—Ç–µ –¥–≤–µ –∫–æ–ª–æ–Ω–∫–∏:
- **anon public** ‚Üê **–ò–°–ü–û–õ–¨–ó–£–ô–¢–ï –≠–¢–û–¢!**
- **service_role** ‚Üê **–ù–ï –ò–°–ü–û–õ–¨–ó–£–ô–¢–ï –≠–¢–û–¢!**

### –®–∞–≥ 2: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á

1. –í –∫–æ–ª–æ–Ω–∫–µ **"anon public"** –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (üìã)
2. –ö–ª—é—á –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `eyJ...`
3. –î–ª–∏–Ω–∞ –ø—Ä–∏–º–µ—Ä–Ω–æ 150-200 —Å–∏–º–≤–æ–ª–æ–≤

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç–µ –≤ Vercel

1. –ó–∞–π–¥–∏—Ç–µ –≤ [Vercel Dashboard](https://vercel.com)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Environment Variables**
4. –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `NEXT_PUBLIC_SUPABASE_ANON_KEY`
5. –ù–∞–∂–º–∏—Ç–µ **"Edit"** (–∏–ª–∏ —Ç—Ä–∏ —Ç–æ—á–∫–∏ ‚Üí Edit)
6. **–£–¥–∞–ª–∏—Ç–µ** —Å—Ç–∞—Ä—ã–π –∫–ª—é—á
7. **–í—Å—Ç–∞–≤—å—Ç–µ** –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π anon –∫–ª—é—á –∏–∑ Supabase
8. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω—ã –≤—Å–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: **Production, Preview, Development**
9. –ù–∞–∂–º–∏—Ç–µ **"Save"**

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Deployments**
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
3. –ù–∞–∂–º–∏—Ç–µ **"..."** (—Ç—Ä–∏ —Ç–æ—á–∫–∏) ‚Üí **"Redeploy"**
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (1-2 –º–∏–Ω—É—Ç—ã)

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Å–∞–π—Ç
2. –û—à–∏–±–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å
3. –°–∞–π—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ

## –ö–∞–∫ –æ—Ç–ª–∏—á–∏—Ç—å –∫–ª—é—á–∏?

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | anon public ‚úÖ | service_role ‚ùå |
|----------------|---------------|-----------------|
| **–ù–∞–∑–≤–∞–Ω–∏–µ** | "anon public" | "service_role" |
| **–î–ª–∏–Ω–∞** | ~150-200 —Å–∏–º–≤–æ–ª–æ–≤ | ~250+ —Å–∏–º–≤–æ–ª–æ–≤ |
| **–ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å** | `eyJ...` | `eyJ...` (—Ç–æ–∂–µ) |
| **–ë–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞** | ‚úÖ –î–∞ | ‚ùå –ù–ï–¢! |
| **–û–±—Ö–æ–¥–∏—Ç RLS** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |

## ‚ö†Ô∏è –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?

**SERVICE_ROLE –∫–ª—é—á:**
- ‚ùå –û–±—Ö–æ–¥–∏—Ç –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (RLS)
- ‚ùå –î–∞–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –õ—é–±–æ–π –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å/–∏–∑–º–µ–Ω–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
- ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!

**ANON –∫–ª—é—á:**
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ –°–æ–±–ª—é–¥–∞–µ—Ç RLS –ø–æ–ª–∏—Ç–∏–∫–∏
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é:**
   - –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ
   - –ö–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é

2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:**
   - ‚úÖ `NEXT_PUBLIC_SUPABASE_ANON_KEY` - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è
   - ‚ùå `NEXT_PUBLIC_SUPABASE_SERVICE_ROLE_KEY` - —É–¥–∞–ª–∏—Ç–µ, –µ—Å–ª–∏ –µ—Å—Ç—å

3. **–û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à:**
   - –í –±—Ä–∞—É–∑–µ—Ä–µ: Ctrl+Shift+Delete
   - –í Vercel: Redeploy

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel:**
   - Deployments ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π ‚Üí Logs
   - –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å Supabase

## –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–°–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: [docs/SECURITY_KEY_ERROR_FIX.md](SECURITY_KEY_ERROR_FIX.md)

