# –°–≤–æ–¥–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É–ª—É—á—à–µ–Ω–∏–π

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤

**–ú–∏–≥—Ä–∞—Ü–∏—è:** `database/migrations/add_file_retention.sql`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –§–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞
- –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –º–æ–∂–µ—Ç –ø–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É "–û—Å—Ç–∞–≤–∏—Ç—å —Ñ–∞–π–ª"
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/ru/FILE_RETENTION_SYSTEM.md`

---

### 2. –£–ª—É—á—à–µ–Ω–∏–µ –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç–∏

**–ú–∏–≥—Ä–∞—Ü–∏—è:** `database/migrations/improve_anonymity.sql`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –≤ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏—è—Ö
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ `appeals_safe`

**–ü—Ä–∏–º–µ—Ä—ã:**
- Email: `***@example.com` (–≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞)
- Telegram: `***@username` (–≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ username)

---

### 3. –ó–∞—â–∏—Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è

**–ú–∏–≥—Ä–∞—Ü–∏—è:** `database/migrations/add_content_protection.sql`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- Soft delete (—Ñ–∞–π–ª –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ `content_audit_log`
- –¢–æ–∫–µ–Ω –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –±–µ–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

---

### 4. –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/ru/CONTENT_MIGRATION_PLAN.md`

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:**
- –ù–æ–≤–æ—Å—Ç–∏/–≥–∞–π–¥—ã ‚Üí Markdown —Ñ–∞–π–ª—ã –≤ Git
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Git
- –ó–∞—â–∏—Ç–∞ –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –§–∞–π–ª—ã –æ–±—Ä–∞—â–µ–Ω–∏–π

1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é `add_file_retention.sql`
2. –°–æ–∑–¥–∞—Ç—å API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞–º–∏
3. –î–æ–±–∞–≤–∏—Ç—å UI —Å –≥–∞–ª–æ—á–∫–æ–π "–û—Å—Ç–∞–≤–∏—Ç—å —Ñ–∞–π–ª"
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (cron)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å

1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é `improve_anonymity.sql`
2. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `appeals_safe`
3. –°–∫—Ä—ã—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã –≤ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏—è—Ö

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ö–æ–Ω—Ç–µ–Ω—Ç

1. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ `content/`
2. –ù–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ Markdown
3. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
4. –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –§–∞–π–ª—ã –æ–±—Ä–∞—â–µ–Ω–∏–π
- [ ] –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î
- [ ] –°–æ–∑–¥–∞—Ç—å API `/api/appeals/[id]/attachments`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É "–û—Å—Ç–∞–≤–∏—Ç—å —Ñ–∞–π–ª" –≤ UI
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞

### –ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å
- [ ] –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±—Ä–∞—â–µ–Ω–∏–π
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Å–∫–∏—Ä–æ–≤–∫—É –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥—É–±–ª–∏–∫–∞—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø–æ —Ö–µ—à—É

### –ö–æ–Ω—Ç–µ–Ω—Ç
- [ ] –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É `content/`
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —á—Ç–µ–Ω–∏—è Markdown
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –∏–∑ Supabase
- [ ] –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
2. ‚úÖ Soft delete (–º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)
3. ‚úÖ Git –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞)
4. ‚úÖ –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å)
5. ‚úÖ –ê—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π (—Ç–∞–±–ª–∏—Ü–∞ `content_audit_log`)

---

## üíæ –≠–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞

**–î–æ:**
- –ö–æ–Ω—Ç–µ–Ω—Ç –≤ Supabase: ~50MB
- –§–∞–π–ª—ã –æ–±—Ä–∞—â–µ–Ω–∏–π: –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è

**–ü–æ—Å–ª–µ:**
- –ö–æ–Ω—Ç–µ–Ω—Ç –≤ Git: 0MB –≤ Supabase
- –§–∞–π–ª—ã –æ–±—Ä–∞—â–µ–Ω–∏–π: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞
- **–≠–∫–æ–Ω–æ–º–∏—è: ~50MB + –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤**

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–ú–∏–≥—Ä–∞—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã** - –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–∞ production
2. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
3. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** - –º–æ–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ —á–∞—Å—Ç—è–º
4. **–ë—ç–∫–∞–ø—ã** - –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è

