# Настройка домена

Как купить домен в России и подключить его к Vercel для сайта ОСС ДВФУ.

## Быстрый старт

1. **Купите домен** на REG.RU (от 99₽/год) — `oss-dvfu.ru` или `ossdvfu.ru`
2. **Настройте DNS** в панели регистратора:
   - CNAME: `@` → `cname.vercel-dns.com`
   - Или используйте DNS-серверы Vercel: `ns1.vercel-dns.com`, `ns2.vercel-dns.com`
3. **Подключите в Vercel**: Settings → Domains → Add Domain
4. **Обновите переменную**: `NEXT_PUBLIC_SITE_URL=https://oss-dvfu.ru`
5. **Подождите 2-4 часа** — DNS распространяется

Готово! Сайт будет доступен по `https://oss-dvfu.ru`

## Где купить домен

### Рекомендуемые регистраторы

**REG.RU** (рекомендуется)
- Сайт: [reg.ru](https://www.reg.ru)
- Цены: `.ru` от 99₽/год, `.рф` от 199₽/год
- Плюсы: крупнейший регистратор, хорошая поддержка, простая панель
- Минусы: нужны паспортные данные для .ru домена

**REGGI**
- Сайт: [reggi.ru](https://reggi.ru)
- Цены: `.ru` от 99₽/год
- Плюсы: низкие цены, акции и скидки

**Beget**
- Сайт: [beget.com](https://beget.com)
- Цены: `.ru` от 99₽/год
- Плюсы: дешево, простая настройка

**Timeweb**
- Сайт: [timeweb.com](https://timeweb.com)
- Цены: `.ru` от 149₽/год
- Плюсы: хорошая репутация, удобная панель

### Рекомендуемые домены

- `oss-dvfu.ru` — идеально подходит
- `ossdvfu.ru` — короче
- `studoss-dvfu.ru` — более описательный
- `oss.dvfu.ru` — поддомен (если есть доступ к dvfu.ru)

**Рекомендация:** `oss-dvfu.ru` или `ossdvfu.ru`

## Подробная инструкция

### Шаг 1: Покупка домена

1. Зайдите на сайт регистратора (например, REG.RU)
2. Проверьте доступность домена (например, `oss-dvfu.ru`)
3. Добавьте домен в корзину
4. Заполните данные:
   - Для `.ru` домена нужны паспортные данные (для физлиц)
   - Или данные организации (если регистрируете от имени ОСС)
5. Оплатите домен
6. Домен будет активирован в течение 24 часов

### Шаг 2: Настройка DNS

После покупки домена нужно настроить DNS-записи:

1. Зайдите в панель управления регистратора
2. Найдите раздел "DNS" или "Управление DNS"
3. Удалите все существующие A-записи (если есть)

**Вариант 1: Использовать CNAME (рекомендуется)**

```
Тип: CNAME
Имя: @ (или оставить пустым для корневого домена)
Значение: cname.vercel-dns.com
TTL: 3600
```

**Вариант 2: Использовать A-записи (если CNAME не поддерживается)**

```
Тип: A
Имя: @
Значение: 76.76.21.21
TTL: 3600

Тип: A
Имя: @
Значение: 76.76.21.22
TTL: 3600
```

**Для поддомена www:**

```
Тип: CNAME
Имя: www
Значение: cname.vercel-dns.com
TTL: 3600
```

**Вариант 3: Использовать DNS-серверы Vercel (самый простой)**

В панели регистратора найдите "Серверы имен" или "Nameservers" и замените на:
```
ns1.vercel-dns.com
ns2.vercel-dns.com
```

### Шаг 3: Подключение домена в Vercel

1. Зайдите в Vercel Dashboard
2. Откройте ваш проект
3. Перейдите в **Settings** → **Domains**
4. Нажмите **Add Domain**
5. Введите ваш домен (например, `oss-dvfu.ru`)
6. Нажмите **Add**
7. Vercel покажет инструкции по настройке DNS

### Шаг 4: Ожидание активации

- DNS-изменения распространяются от 1 до 48 часов
- Обычно работает через 2-4 часа
- Проверить можно через [whatsmydns.net](https://www.whatsmydns.net)

### Шаг 5: Обновление переменных окружения

После того, как домен заработает:

1. В Vercel → Settings → Environment Variables
2. Обновите `NEXT_PUBLIC_SITE_URL`:
   ```
   NEXT_PUBLIC_SITE_URL=https://oss-dvfu.ru
   ```
3. Выберите все окружения (Production, Preview, Development)
4. Сохраните
5. Перезапустите деплой (Redeploy)

## SSL-сертификат

Vercel автоматически выдаёт бесплатный SSL-сертификат (HTTPS) для вашего домена. Ничего дополнительно настраивать не нужно.

## Проверка работы

После настройки проверьте:

1. Откройте `https://oss-dvfu.ru` в браузере
2. Должен открыться ваш сайт
3. Проверьте, что HTTPS работает (замочек в адресной строке)
4. Проверьте редирект с `www.oss-dvfu.ru` на `oss-dvfu.ru` (если настроили)

## Стоимость

- **Домен `.ru`:** от 99₽/год (≈ $1.1/год)
- **DNS-хостинг:** обычно бесплатно у регистратора
- **SSL-сертификат:** бесплатно от Vercel
- **Итого:** ~100₽/год

## Важные моменты

1. **Данные владельца:** Для `.ru` домена нужны реальные данные (паспорт или документы организации)
2. **Продление:** Не забудьте продлить домен до истечения срока
3. **DNS-кэш:** После изменений DNS может потребоваться время на распространение
4. **Резервные копии:** Vercel автоматически делает бэкапы

## Альтернатива: Бесплатный поддомен

Если нет возможности купить домен, можно использовать:
- `oss-dvfu.vercel.app` (бесплатно, уже работает)
- Или попросить поддомен у ДВФУ: `oss.dvfu.ru` (если есть доступ)

## Поддержка

Если возникнут проблемы:
- **REG.RU:** техподдержка 24/7, чат на сайте
- **Vercel:** [vercel.com/support](https://vercel.com/support)
- **DNS проблемы:** проверьте через [dnschecker.org](https://dnschecker.org)

